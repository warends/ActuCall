'use strict';

$(document).ready(function () {
    var _this = this;

    // var path = document.querySelector('.contact-line');
    // var length = path.getTotalLength();
    // console.log(length);

    var $menuBtn = $('#menu-btn'),
        $cap = $('.cap'),
        $menu = $('.menu');

    $menuBtn.on('click', function (e) {
        e.preventDefault();
        $menu.toggleClass('active');
    });

    if (window.innerWidth >= 768) {
        $(window).scroll(function () {
            if ($(this).scrollTop() > 10) {
                $menuBtn.addClass("active");
                $menu.addClass('hide');
            } else {
                $menuBtn.removeClass("active");
                $menu.removeClass('hide');
            }
        });
    }

    var $caps = $('.cap');
    var $lines = $('.line');
    var $capDesc = $('.cap-desc');

    function clearCap() {
        $caps.removeClass('active');
        $lines.removeClass('active');
        $capDesc.removeClass('active');
    }
    var page = $('main').attr('id');

    if (page === 'home') {
        console.log('home page');

        $('.slider').slick({
            dots: true,
            autoplay: true,
            autoplaySpeed: 4000,
            slidesToScroll: 1,
            prevArrow: '<i class="fa fa-arrow-left white arrow-prev" aria-hidden="true"></i>',
            nextArrow: '<i class="fa fa-arrow-right white arrow-next" aria-hidden="true"></i>'
        });

        if (window.innerWidth >= 768) {
            $('#real-time-call-intelligence-tools').addClass('active');
            $('.real-time-call-intelligence-tools-line').addClass('active');
            $('.real-time-call-intelligence-tools').addClass('active');
        }

        $cap.hover(function () {
            clearCap();
            var slug = $(this).attr('id');
            var line = $('.' + slug + '-line');
            line.addClass('active');
            setTimeout(function () {
                $('.' + slug).addClass('active');
            }, 400);
        }, function () {
            $capDesc.removeClass('active');
            $lines.removeClass('active');
            var slug = $(this).attr('id');
            $('.' + slug).removeClass('active');
        });

        $cap.on('click', function (e) {
            $cap.removeClass('active');
            var slug = $(_this).attr('id');
            $('.' + slug).addClass('active');
        });

        var bgVid = document.getElementById('bgvid'),
            width = window.innerWidth + 'px';
        bgVid.play();
        if (window.innerWidth >= 768) {
            bgVid.style.width = width;
        } else {
            bgVid.style.width = '620px';
        }
    } else if (page === 'page-about') {

        $(window).on('scroll', function () {
            if ($('.denver').isInViewport()) {
                $('.denver').addClass('active');
            } else {
                $('.denver').removeClass('active');
            }
        });
    } else if (page === 'capability') {
        setActiveFeature();

        var $btns = $('.feature-btn');
        var $features = $('.feature-content');

        $btns.on('click', function (e) {
            $btns.removeClass('active');
            $features.removeClass('active');
            setTimeout(function () {
                $(e.target).addClass('active');
                var target = $(e.target).data('target');
                $('#' + target).addClass('active');
            }, 350);
        });
    }

    function setActiveFeature() {
        var btn = $('.feature-col').first().find('.feature-btn');
        btn.addClass('active');
        var target = btn.data('target');
        $('#' + target).addClass('active');
        var pathArray = window.location.pathname.split('/');
        $('.cap-more.' + pathArray[2]).addClass('active');
        console.log(pathArray[2]);
    }

    $.fn.isInViewport = function () {
        var elementTop = $(this).offset().top,
            elementBottom = elementTop + $(this).outerHeight(),
            viewportTop = $(window).scrollTop(),
            viewportBottom = viewportTop + $(window).height();
        return elementBottom > viewportTop && elementTop < viewportBottom;
    };
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjdHVjYWxsLmpzIl0sIm5hbWVzIjpbIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiJG1lbnVCdG4iLCIkY2FwIiwiJG1lbnUiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRvZ2dsZUNsYXNzIiwid2luZG93IiwiaW5uZXJXaWR0aCIsInNjcm9sbCIsInNjcm9sbFRvcCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCIkY2FwcyIsIiRsaW5lcyIsIiRjYXBEZXNjIiwiY2xlYXJDYXAiLCJwYWdlIiwiYXR0ciIsImNvbnNvbGUiLCJsb2ciLCJzbGljayIsImRvdHMiLCJhdXRvcGxheSIsImF1dG9wbGF5U3BlZWQiLCJzbGlkZXNUb1Njcm9sbCIsInByZXZBcnJvdyIsIm5leHRBcnJvdyIsImhvdmVyIiwic2x1ZyIsImxpbmUiLCJzZXRUaW1lb3V0IiwiYmdWaWQiLCJnZXRFbGVtZW50QnlJZCIsIndpZHRoIiwicGxheSIsInN0eWxlIiwiaXNJblZpZXdwb3J0Iiwic2V0QWN0aXZlRmVhdHVyZSIsIiRidG5zIiwiJGZlYXR1cmVzIiwidGFyZ2V0IiwiZGF0YSIsImJ0biIsImZpcnN0IiwiZmluZCIsInBhdGhBcnJheSIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJzcGxpdCIsImZuIiwiZWxlbWVudFRvcCIsIm9mZnNldCIsInRvcCIsImVsZW1lbnRCb3R0b20iLCJvdXRlckhlaWdodCIsInZpZXdwb3J0VG9wIiwidmlld3BvcnRCb3R0b20iLCJoZWlnaHQiXSwibWFwcGluZ3MiOiI7O0FBQUFBLEVBQUVDLFFBQUYsRUFBWUMsS0FBWixDQUFrQixZQUFVO0FBQUE7O0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQSxRQUFJQyxXQUFXSCxFQUFFLFdBQUYsQ0FBZjtBQUFBLFFBQ0lJLE9BQU9KLEVBQUUsTUFBRixDQURYO0FBQUEsUUFFSUssUUFBUUwsRUFBRSxPQUFGLENBRlo7O0FBSUFHLGFBQVNHLEVBQVQsQ0FBWSxPQUFaLEVBQW9CLFVBQUNDLENBQUQsRUFBTztB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LFFBQUosQ0FBYSxRQUFiO0FBQ0EsWUFBSThCLFNBQVNFLElBQUlELElBQUosQ0FBUyxRQUFULENBQWI7QUFDQTdDLFVBQUUsTUFBTTRDLE1BQVIsRUFBZ0I5QixRQUFoQixDQUF5QixRQUF6QjtBQUNBLFlBQUltQyxZQUFZdkMsT0FBT3dDLFFBQVAsQ0FBZ0JDLFFBQWhCLENBQXlCQyxLQUF6QixDQUErQixHQUEvQixDQUFoQjtBQUNBcEQsVUFBRSxlQUFlaUQsVUFBVSxDQUFWLENBQWpCLEVBQStCbkMsUUFBL0IsQ0FBd0MsUUFBeEM7QUFDQVEsZ0JBQVFDLEdBQVIsQ0FBWTBCLFVBQVUsQ0FBVixDQUFaO0FBQ0Q7O0FBRURqRCxNQUFFcUQsRUFBRixDQUFLYixZQUFMLEdBQW9CLFlBQVc7QUFDN0IsWUFBSWMsYUFBYXRELEVBQUUsSUFBRixFQUFRdUQsTUFBUixHQUFpQkMsR0FBbEM7QUFBQSxZQUNJQyxnQkFBZ0JILGFBQWF0RCxFQUFFLElBQUYsRUFBUTBELFdBQVIsRUFEakM7QUFBQSxZQUVJQyxjQUFjM0QsRUFBRVUsTUFBRixFQUFVRyxTQUFWLEVBRmxCO0FBQUEsWUFHSStDLGlCQUFpQkQsY0FBYzNELEVBQUVVLE1BQUYsRUFBVW1ELE1BQVYsRUFIbkM7QUFJQSxlQUFPSixnQkFBZ0JFLFdBQWhCLElBQStCTCxhQUFhTSxjQUFuRDtBQUNELEtBTkQ7QUFRSCxDQW5JRCIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuICAgIC8vIHZhciBwYXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3QtbGluZScpO1xuICAgIC8vIHZhciBsZW5ndGggPSBwYXRoLmdldFRvdGFsTGVuZ3RoKCk7XG4gICAgLy8gY29uc29sZS5sb2cobGVuZ3RoKTtcblxuICAgIGxldCAkbWVudUJ0biA9ICQoJyNtZW51LWJ0bicpLFxuICAgICAgICAkY2FwID0gJCgnLmNhcCcpLFxuICAgICAgICAkbWVudSA9ICQoJy5tZW51Jyk7XG5cbiAgICAkbWVudUJ0bi5vbignY2xpY2snLChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJG1lbnUudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH0pO1xuXG4gICAgaWYod2luZG93LmlubmVyV2lkdGggPj0gNzY4KXtcbiAgICAgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLnNjcm9sbFRvcCgpID4gMTApe1xuICAgICAgICAgICAgICAgICRtZW51QnRuLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICRtZW51LmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRtZW51QnRuLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICRtZW51LnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0ICRjYXBzID0gJCgnLmNhcCcpO1xuICAgIGNvbnN0ICRsaW5lcyA9ICQoJy5saW5lJyk7XG4gICAgY29uc3QgJGNhcERlc2MgPSAkKCcuY2FwLWRlc2MnKTtcblxuICAgIGZ1bmN0aW9uIGNsZWFyQ2FwKCl7XG4gICAgICAgICRjYXBzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgJGxpbmVzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgJGNhcERlc2MucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH1cbiAgICBsZXQgcGFnZSA9ICQoJ21haW4nKS5hdHRyKCdpZCcpO1xuXG4gICAgaWYocGFnZSA9PT0gJ2hvbWUnKXtcbiAgICAgICAgY29uc29sZS5sb2coJ2hvbWUgcGFnZScpO1xuXG4gICAgICAgICQoJy5zbGlkZXInKS5zbGljayh7XG4gICAgICAgICAgICBkb3RzOiB0cnVlLFxuICAgICAgICAgICAgYXV0b3BsYXk6dHJ1ZSxcbiAgICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6NDAwMCxcbiAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOjEsXG4gICAgICAgICAgICBwcmV2QXJyb3c6ICc8aSBjbGFzcz1cImZhIGZhLWFycm93LWxlZnQgd2hpdGUgYXJyb3ctcHJldlwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nLFxuICAgICAgICAgICAgbmV4dEFycm93OiAnPGkgY2xhc3M9XCJmYSBmYS1hcnJvdy1yaWdodCB3aGl0ZSBhcnJvdy1uZXh0XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPidcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYod2luZG93LmlubmVyV2lkdGggPj0gNzY4KXtcbiAgICAgICAgICAgICQoJyNyZWFsLXRpbWUtY2FsbC1pbnRlbGxpZ2VuY2UtdG9vbHMnKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAkKCcucmVhbC10aW1lLWNhbGwtaW50ZWxsaWdlbmNlLXRvb2xzLWxpbmUnKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAkKCcucmVhbC10aW1lLWNhbGwtaW50ZWxsaWdlbmNlLXRvb2xzJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgJGNhcC5ob3ZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjbGVhckNhcCgpO1xuICAgICAgICAgICAgICAgIHZhciBzbHVnID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lID0gJCgnLicrIHNsdWcgKyAnLWxpbmUnKTtcbiAgICAgICAgICAgICAgICBsaW5lLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICQoJy4nICsgc2x1ZykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH0sIDQwMCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkY2FwRGVzYy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJGxpbmVzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB2YXIgc2x1ZyA9ICQodGhpcykuYXR0cignaWQnKTtcbiAgICAgICAgICAgICAgICAkKCcuJyArIHNsdWcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICAkY2FwLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAkY2FwLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIHZhciBzbHVnID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgJCgnLicgKyBzbHVnKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBiZ1ZpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZ3ZpZCcpLFxuICAgICAgICAgICAgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCArICdweCc7XG4gICAgICAgIGJnVmlkLnBsYXkoKTtcbiAgICAgICAgaWYod2luZG93LmlubmVyV2lkdGggPj0gNzY4KXtcbiAgICAgICAgICAgIGJnVmlkLnN0eWxlLndpZHRoID0gd2lkdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiZ1ZpZC5zdHlsZS53aWR0aCA9ICc2MjBweCc7XG4gICAgICAgIH1cblxuXG4gICAgfSBlbHNlIGlmKHBhZ2UgPT09ICdwYWdlLWFib3V0Jyl7XG5cbiAgICAgICAgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZigkKCcuZGVudmVyJykuaXNJblZpZXdwb3J0KCkpIHtcbiAgICAgICAgICAgICAgICAkKCcuZGVudmVyJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcuZGVudmVyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYocGFnZSA9PT0gJ2NhcGFiaWxpdHknKXtcbiAgICAgICAgc2V0QWN0aXZlRmVhdHVyZSgpO1xuXG4gICAgICAgIGNvbnN0ICRidG5zID0gJCgnLmZlYXR1cmUtYnRuJyk7XG4gICAgICAgIGNvbnN0ICRmZWF0dXJlcyA9ICQoJy5mZWF0dXJlLWNvbnRlbnQnKTtcblxuICAgICAgICAkYnRucy5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgJGJ0bnMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJGZlYXR1cmVzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgJChlLnRhcmdldCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJChlLnRhcmdldCkuZGF0YSgndGFyZ2V0Jyk7XG4gICAgICAgICAgICAgICQoJyMnICsgdGFyZ2V0KS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICB9LCAzNTApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRBY3RpdmVGZWF0dXJlKCl7XG4gICAgICBsZXQgYnRuID0gJCgnLmZlYXR1cmUtY29sJykuZmlyc3QoKS5maW5kKCcuZmVhdHVyZS1idG4nKTtcbiAgICAgIGJ0bi5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICBsZXQgdGFyZ2V0ID0gYnRuLmRhdGEoJ3RhcmdldCcpO1xuICAgICAgJCgnIycgKyB0YXJnZXQpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgIGxldCBwYXRoQXJyYXkgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoJy8nKTtcbiAgICAgICQoJy5jYXAtbW9yZS4nICsgcGF0aEFycmF5WzJdKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICBjb25zb2xlLmxvZyhwYXRoQXJyYXlbMl0pO1xuICAgIH1cblxuICAgICQuZm4uaXNJblZpZXdwb3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgZWxlbWVudFRvcCA9ICQodGhpcykub2Zmc2V0KCkudG9wLFxuICAgICAgICAgIGVsZW1lbnRCb3R0b20gPSBlbGVtZW50VG9wICsgJCh0aGlzKS5vdXRlckhlaWdodCgpLFxuICAgICAgICAgIHZpZXdwb3J0VG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpLFxuICAgICAgICAgIHZpZXdwb3J0Qm90dG9tID0gdmlld3BvcnRUb3AgKyAkKHdpbmRvdykuaGVpZ2h0KCk7XG4gICAgICByZXR1cm4gZWxlbWVudEJvdHRvbSA+IHZpZXdwb3J0VG9wICYmIGVsZW1lbnRUb3AgPCB2aWV3cG9ydEJvdHRvbTtcbiAgICB9O1xuXG59KTtcbiJdfQ==
